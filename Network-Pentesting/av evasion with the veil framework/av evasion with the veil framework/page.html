<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>AV Evasion with the Veil Framework</title>
</head><body><a href="https://github.com/Veil-Framework/Veil-Evasion">https://github.com/Veil-Framework/Veil-Evasion</a><br/>
<a href="https://www.veil-framework.com/">https://www.veil-framework.com/</a><br/>
<img src="1.png" /><br/>
<br/>
<br/>
<img src="1 2.png" /><br/>
<hr/><hr/><br/>
NB: Ogni volta che crei un payload, usalo e poi usa il comando "clean" per pulire la cartella veil-output.<br/>
<img src="1 3.png" /><br/>
<br/>
<br/>
<img src="1 4.png" /><br/>
<br/>
<br/>
<img src="1 5.png" /><br/>
<br/>
<br/>
Aprendo Veil-Evasion, usando il comando "list",<br/>
possiamo listare tutti i payload in modo necessario.<br/>
<img src="1 6.png" /><br/>
<br/>
Scegliamo il payload da usare:<br/>
<img src="1 7.png" /><br/>
<br/>
Ora dovremmo vedere gli argument necessari<br/>
per poter compilare un payload:<br/>
possiamo vederle col comando "info"<br/>
<img src="1 8.png" /><br/>
<br/>
Possiamo settarli come su msfconsole:<br/>
<img src="1 9.png" /><br/>
<br/>
Una volta settato i parametri, usiamo il comando<br/>
"generate" per generare il payload.<br/>
<img src="1 10.png" /><br/>
<br/>
NB: I payload vengono dati in output nella cartella veil-output.<br/>
<img src="1 11.png" /><br/>
<br/>
<br/>
Ora se avviamo una nuova instanza di Veil,<br/>
possiamo usare il comando "clean" per pulire tutti i payload<br/>
già usati:<br/>
<img src="1 12.png" /><br/>
<br/>
<br/>
Ora possiamo andare avanti e creare il nostro payload:<br/>
<img src="1 13.png" /><br/>
<br/>
<img src="1 14.png" /><br/>
<br/>
<br/>
Ora, per ascoltare con un handler questo nuovo payload,<br/>
Veil propone degli handler in ruby fatti apposta<br/>
per essere eseguiti su msfconsole:<br/>
<img src="1 15.png" /><br/>
<br/>
<br/>
Per eseguirlo, ci basta digitare il comando<br/>
"msfconsole" + l'argument per dare in input delle resource:<br/>
<img src="1 16.png" /><br/>
<br/>
<img src="1 17.png" /><br/>
<br/>
<img src="1 18.png" /><br/>
<br/>
Ora quando la vittima esegue il payload,<br/>
avremo l'handler che ascolterà!<br/>
<img src="1 20.png" /><br/>
<br/>
<img src="1 19.png" /><br/>
<hr/><hr/><br/>
Veil ha anche l'opzione di check<br/>
per i payload su VirusTotal:<br/>
in pratica controllo l'hash del payload<br/>
per sapere se è sgamabile!<br/>
<br/>
NB: Controlla i payload presenti nella cartella di output.<br/>
<img src="1 21.png" /><br/>
<br/>
<img src="1 22.png" /><br/>
<br/>
<br/>
<hr/><hr/><br/>
Momento cultura:<br/>
In "source" puoi trovare il primo stage del payload, scritto in "c".<br/>
<img src="1 23.png" /><br/>
<br/>
<br/>
Possiamo visionarlo per bene con un tool chiamato "indent"<br/>
NB: E' installabile con "apt install ident"<br/>
<img src="1 24.png" /><br/>
<br/>
Oltre alle cose importanti, ha varie funzioni inutili e loop<br/>
in modo da creare signature non mai utilizzate!<br/>
<img src="1 25.png" /><br/>
<br/>
<br/>
</body></html>